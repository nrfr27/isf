"Original Text","Initial","Machine translation","Better translation","Best translation"
"X[共]万能ｳｨﾝﾄﾞｳ描画処理","","","",""
"―――――――――――――――――――――――――――――――――――","","","",""
"【処理の内容】","","","",""
"　「～～ 一覧算出」処理を実行後、このコモンイベントを呼び出すことで、","","","",""
"　可変DB内に格納されたアイテムや装備の一覧画面を表示します。","","","",""
" ","","","",""
"　なお、可変DB「基本システム用変数」で、ウィンドウ位置・表示サイズ・横縦項目数を設定することができます。","","","",""
"　すべて0なら、画面いっぱいに横2つ、縦10個で表示されます。","","","",""
"（※縦項目数が2個以下だと挙動がおかしくなりますのでご注意ください）","","","",""
"　万能ウィンドウを「消去」したときに、上記パラメータは0にリセットされますので、","","","",""
"　使用時には、前述したパラメータを毎回入力し直してください。","","","",""
"　また、万能ウィンドウは同時に1つしか使用できませんのでご了承ください。","","","",""
"【このコモンイベント内で操作しているデータベース】","","","",""
"　可変DB「万能ｳｨﾝﾄﾞｳ一時DB」","","","",""
"　可変DB「基本ｼｽﾃﾑ用変数」","","","",""
"【ここから呼び出している別コモンイベント】
","","","",""
"　なし

","","","",""
"【ピクチャ】","","","",""
"　基本ピクチャ＋
0　＝　メインウィンドウ","","","",""
"　基本ピクチャ＋
1　＝　説明ウィンドウ","","","",""
"　基本ピクチャ＋2　＝　説明文","","","",""
"　基本ピクチャ＋
3　＝　カーソル画像","","","",""
"　基本ピクチャ＋
4　＝　上への矢印","","","",""
"　基本ピクチャ＋5　＝　下への矢印","","","",""
"　基本ピクチャ＋6　＝　スクロールバー","","","",""
"　基本ピクチャ＋
9～209　＝　項目（1項目1ピクチャ）","","","",""
"　","","","",""
"【使用例】
","","","",""
"　コモンイベント「■■【共通・画面処理】■■」　内に使用サンプルがあります。","","","",""
"■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■","","","",""
" 　パラメータ設定","","","",""
"固定値を設定

","","","",""
"基本パラメータを呼び出し","","","",""
"基本ｼｽﾃﾑ用変数","","","",""
"画像/音声設定","","","",""
"ウィンドウ画像ファイル","","","",""
"カーソル画像ファイル","","","",""
"Ver2.20　座標倍率を縦横別に修正

","","","",""
"初期化

","","","",""
"通常ﾓｰﾄﾞ

","","","",""
"戦闘コマンド用

","","","",""
" 　ここから実処理開始","","","",""
"■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■","","","",""
"「消去」モードの場合","","","",""
"カーソルを消す

","","","",""
"それ以外を消す

","","","",""
"エフェクトが指定されてたらそれに応じてメインウィンドウを消す","","","",""
"拡大率０％にしてから消去

","","","",""
"上か下にシュンと消えて終了

","","","",""
"「表示」モードの場合

","","","",""
"基本システム用変数からウィンドウ表示サイズなどを取得","","","",""
"説明ウィンドウの縦サイズだけは外部から指定可能

","","","",""
"数値が0ならデフォルトの値を代入","","","",""
"説明文欄の表示　ないしメインウィンドウへの補正","","","",""
"ピクチャ番号は「基本ピクチャ番号＋１」

","","","",""
"説明欄を表示しない
（消去する）","","","",""
"最上部に最大幅で説明欄を表示","","","",""
"座標・サイズを計算","","","",""
"説明ウィンドウ

表示","","","",""
"説明文の空画像を表示

","","","",""
"\f[\cself[18]]\space[0]","","","",""
"もしメインウィンドウ部分に影響が出るならサイズ補正する","","","",""
"最下部に最大幅で説明欄を表示","","","",""
"ウィンドウの上に説明欄を表示

","","","",""
"ウィンドウの下に説明欄を表示","","","",""
"１．メインウィンドウ部を表示","","","",""
"左上から表示

","","","",""
"左下から表示

","","","",""
"右上から表示

","","","",""
"右下から表示

","","","",""
"中央上から表示

","","","",""
"中央下から表示

","","","",""
"エフェクトがあったら表示待ちのためにウェイとする

","","","",""
"ただし高速表示オフの場合のみ

","","","",""
"２．カーソルの基本位置を設定する","","","",""
"　（このカーソル用座標値は、次にこのコモンで「更新」されたときに使用する）","","","",""
"カーソルの上下左右移動幅を算出","","","",""
"カーソルの描画範囲を調節","","","",""
"移動幅とカーソル縦幅から少し座標を補正

","","","",""
"項目名はすべて消去する

","","","",""
"このまま処理モード1（更新）も実行してしまう

。項目を表示するため。","","","",""
"リセット","","","",""
"「更新」モードの場合","","","",""
"まずカーソル位置が個数よりオーバーしてたら減らす

","","","",""
"カーソルの位置を再設定　ここで縦スクロール量を計算し直す","","","",""
"\cself[10] \cself[11] \cself[12]が\cself[27]以上？","","","",""
"今見えてる部分より下を選ぼうとした場合

","","","",""
"ただし、一番下が見えてる場合はもう動かさない

","","","",""
"スクロールを下に

","","","",""
"＋変化\cself[45] ｽｸﾛｰﾙ\cdb[18:15:0]","","","",""
"\cself[10] \cself[11] \cself[12]が0未満？","","","",""
"今見えてる画面より上を選ぼうとした場合

","","","",""
"スクロールを上に

","","","",""
"ただし、一番上が見えている場合はもう動かさない

","","","",""
"－変化\cself[45] ｽｸﾛｰﾙ\cdb[18:15:0]","","","",""
"カーソル位置を算出

","","","",""
"横位置を算出

","","","",""
"縦位置を算出

","","","",""
"カーソルを表示","","","",""
"カーソル位置が0以上なら表示する","","","",""
"中央基点にして、拡大率をちょっとだけ大きくしている

","","","",""
"カーソル位置が-1以下なら消去する","","","",""
" 　　　ここから項目描画処理","","","",""
"項目を全再描画

","","","",""
"繰り返し回数を計算

","","","",""
"2.02追加　もし1ページまるごとスクロールする場合は全更新にする

","","","",""
"処理開始個数を計算

","","","",""
"ここでスクロールによる補正を加える

","","","",""
"上にスクロール移動してたら、処理する全項目数を「下に消えた段」だけ加算","","","",""
"下にスクロール移動してたら処理する全項目数を「上に消えた段」だけ加算＋処理開始個数を上に消えた段だけ戻す","","","",""
"数値表示部のシフト量を計算（後の \ax[ ] 内で使用する）

","","","",""
"解像度が320x240の場合だけ二倍補正が必要（\ax[?]の使用上）","","","",""
"項目を一つずつピクチャで表示する

","","","",""
"項目を表示

（最大200個まで）","","","",""
"表示する

","","","",""
"次の項目を表示する必要があるのかどうかを判定","","","",""
"まず表示する必要があるのは、上か下にスクロールした場合のみ

","","","",""
"上にスクロールした場合、新規に表示するのは一番上のスクロール段だけ","","","",""
"「表示」フラグを立てる

","","","",""
"「表示」する初期Y座標もずらしておく

","","","",""
"下にスクロールした場合、新規に「表示」するのは一番下のスクロール段だけ","","","",""
"表示する項目名を算出

","","","",""
"万能ｳｨﾝﾄﾞｳ一時DB","","","",""
"項目文","","","",""
"残り個数/消費ポイント","","","",""
"付与文字列[後]","","","",""
"付与文字列[前]","","","",""
" \cself[11]","","","",""
"\cself[11]","","","",""
"アイテム名だけピクチャ表示して、横幅を得る","","","",""
"\f[\cself[19]]\cself[7]","","","",""
"もし文字列がカーソル横幅の一定％を超えていたら、横を縮小して調節する","","","",""
"数値部がない場合は、もとの文字列がカーソル幅を超えているかどうかチェック","","","",""
"数値部が存在する場合は、とりあえず2.5文字分の予備を取って計算

","","","",""
"カーソル幅から溢れてたら、横拡大率を小さくする

","","","",""
"シフト量も増やして調整する

","","","",""
"普通のカーソル幅ならここに格納

","","","",""
"この項目の表示色をここで設定","","","",""
"選択可能なら白に　選択不能なら紺にしている

","","","",""
"選択可能状態[1=可]","","","",""
"\ax[] \ay[]　を駆使して、一枚のピクチャに項目名と数値を同時に埋め込む

","","","",""
"エフェクト無しの瞬間表示なら項目も不透明度255から開始

","","","",""
"<C>\cself[7]","","","",""
"\f[\cself[19]]\cself[7]
\ax[\cself[12]]
<R>\ay[0]\cself[6]","","","",""
"スクロールによる移動処理はここで行う（「表示」後に移動指定する必要性から）

","","","",""
"全表示時の表示演出はここで行う","","","",""
"スクロール移動があれば移動や消去を行う","","","",""
"上にスクロールした場合、消去するのは一番下のスクロール段だけ","","","",""
"スクロールしながら消去

","","","",""
"そうでなければ移動だけ

","","","",""
"下にスクロールした場合、「消去」するのは一番上のスクロール段だけ","","","",""
"「説明」文を表示する　（表示するモードだった場合のみ）","","","",""
"すでに説明文用のピクチャが表示されているかどうかで判定

","","","",""
"説明文","","","",""
"\f[\cself[18]]\space[0]<C>\cself[5]","","","",""
"上下の矢印を表示する

","","","",""
"上に、見えていないデータがある場合は、上に矢印を表示する

","","","",""
"\f[\cself[18]]\E▲","","","",""
"全部表示しきれていない場合は、下に矢印を表示する

","","","",""
"\f[\cself[18]]\E▼","","","",""
"スクロールバーもどきもつけておく","","","",""
"セルフ10が全縦項目数

","","","",""
"最後の行に１個でも要素があれば縦＋１とする

","","","",""
"現在の表示範囲が、縦の何割を占めるか計算し、スクロールバー長を算出","","","",""
"セルフ14はスクロールバー上下の「遊び」の部分

","","","",""
"スクロールバーが今どこにあるか算出

","","","",""
"X座標を計算

","","","",""
"スクロールを出さない場合はここで消去

","","","",""
"DBに格納された内容を描画する処理。説明欄は処理モードが「表示」時の場合のみ有効です。","","","",""
"処理モード","","","",""
"ｶｰｿﾙ位置","","","",""
"[表示]>説明欄","","","",""
"[表示]>ｴﾌｪｸﾄ","","","",""
"0","","","",""
"表示","","","",""
"表示[戦闘ｺﾏﾝﾄﾞ用]","","","",""
"更新(ｽｸﾛｰﾙ+ｶｰｿﾙ描画)","","","",""
"消去","","","",""
"表示しない","","","",""
"最上部に横幅最大表示","","","",""
"最下部に横幅最大表示","","","",""
"ｳｨﾝﾄﾞｳの上に表示","","","",""
"ｳｨﾝﾄﾞｳの下に表示","","","",""
"なし","","","",""
"左上から展開","","","",""
"左下から展開","","","",""
"右上から展開","","","",""
"右下から展開","","","",""
"中央上から展開","","","",""
"中央下から展開","","","",""
"カーソル位置","","","",""
"説明欄モード","","","",""
"付与文字列","","","",""
"表示項目名","","","",""
"一時変数A","","","",""
"一時変数B","","","",""
"一時変数C","","","",""
"一時変数D","","","",""
"一時変数E","","","",""
"ミニフォントサイズ","","","",""
"基本フォントサイズ","","","",""
"基本ピクチャ番号","","","",""
"一時ピクチャ番号","","","",""
"表示X","","","",""
"表示Y","","","",""
"横サイズ","","","",""
"縦サイズ","","","",""
"横項目数","","","",""
"縦項目数","","","",""
"×座標倍率","","","",""
"全更新フラグ","","","",""
"説明ウィンドウX","","","",""
"説明ウィンドウY","","","",""
"説明ウィンドウ横サイズ","","","",""
"説明ウィンドウ縦サイズ","","","",""
"[保持]カーソル基本X","","","",""
"[保持]カーソル基本Y","","","",""
"[保持]カーソル横幅","","","",""
"[保持]カーソル縦幅","","","",""
"[保持]カーソル移動横幅","","","",""
"[保持]カーソル移動縦幅","","","",""
"全項目数","","","",""
"一時項目表示X","","","",""
"一時項目表示Y","","","",""
"処理中個数","","","",""
"スクロール位置","","","",""
"スクロール変化量","","","",""
"単体項目表示フラグ","","","",""
"数値表示シフト量","","","",""
"項目表示元Y","","","",""
"項目横拡大率","","","",""
"上下矢印X","","","",""
"上下矢印Y","","","",""
"色指定R","","","",""
"色指定G","","","",""
"色指定B","","","",""
"一時不透明度","","","",""
"項目左寄せﾌﾗｸﾞ(ｵﾌ=中央)","","","",""
"ｽｸﾛｰﾙ表示ﾌﾗｸﾞ","","","",""
"ウィンドウ不透明度","","","",""
"項目高速表示","","","",""
"一時仮想全項目数","","","",""
"座標倍率X[x10]","","","",""
"座標倍率Y[x10]","","","",""
